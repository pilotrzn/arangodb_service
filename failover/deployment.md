Для развертывания отказоустойчивой системы нужно создать ноду Лидер, ноду или несколько нод последователей, и хотя бы один свидетель -Agency

## Ограничения

Настройка активного перехода на другой ресурс в ArangoDB имеет несколько ограничений:

- Активный переход на другой ресурс имеет только асинхронную репликацию и, следовательно, не гарантирует, сколько операций с базой данных могло быть потеряно во время перехода на другой ресурс.

- Активный переход на другой ресурс не имеет глобального состояния, и, следовательно, переход на плохой подписчик переопределяет все другие подписчики с этим состоянием (включая предыдущего лидера, у которого могут быть более актуальные данные). При настройке кластера Agency предоставляет глобальное состояние, и, следовательно, ArangoDB знает о последнем состоянии.

- Если вы добавляете более одного подписчика, имейте в виду, что во время отработки отказа аварийный переход пытается выбрать самого актуального подписчика в качестве нового лидера на основе максимальных усилий.

- Если вы используете ArangoDB Starter или Kubernetes Operator для управления развертыванием с активным переходом на другой ресурс, имейте в виду, что обновление может вызвать непреднамеренный переход на другой ресурс между компьютерами.